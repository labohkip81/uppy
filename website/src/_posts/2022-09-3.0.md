---
title: "Uppy 3.0: Future proof, conveniently easy, loyally stable" 
date: 2022-09-01
author: 
  - aduh95
  - arturi
  - mifi
  - murderlon
image: "https://uppy.io/images/blog/3.0/uppy-3-0.jpg"
published: true
---

![](/images/blog/3.0/uppy-3-0.jpg)

Uppy is turning 3 (or 29 in [dog years](https://www.akc.org/expert-advice/health/how-to-calculate-dog-years-to-human-years/)). Proper adulthood, that is, as it‚Äôs ready to stay loyal but without the silly mistakes (read: bugs), with an (ESM) surgery to keep strolling by your side in the current ecosystem, and other behaviour improvements üê∂

<!--more-->

## ESM surgery

[ECMAScript Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) (ESM) are the future and we‚Äôre ready to adopt it. It‚Äôs benefits over CommonJS include: being more secure, better at tree shaking, and its syntax can be understood natively by browsers, which can greatly improve the DX if the tools are configured to take advantage of that.

Following the footsteps of many packages, we now only ship Uppy core and its plugins as ESM. On Uppy 2.x, we were shipping CommonJS.

If are already using ESM yourself, or are using the CDN builds, nothing changes for you! If you are using CommonJS, you might need to add some tooling for everything to work, or you might want to refactor your codebase to ESM ‚Äì refer to the [Pure ESM package gist](https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c) for added information and help on how to do that.

## Less integration code with the new remote sources preset

We‚Äôve introduced a new Uppy preset plugin, [`@uppy/remote-sources`](/docs/remote-sources), which combines Instagram, Facebook, Google Drive, Box, Unsplash, Dropbox, One Drive, Zoom and any future remote cloud sources that Uppy will support. It only works with Dashboard and let‚Äôs you enable all the above sources in only line.

Before you had to manually include every cloud provider / remote source:

```js
uppy
  .use(Instagram, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(GoogleDrive, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(OneDrive, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(Instagram, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(Facebook, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  .use(Unsplash, { companionUrl: COMPANION_URL, companionAllowedHosts: COMPANION_ALLOWED_HOSTS })
  // ...
```

After:

```js
uppy.use(RemoteSources, { companionUrl: 'https://companion.uppy.io' })
```

To get started, checkout the [docs](/docs/remote-sources).

## Robodog ends its service

Uppy is flexible and extensible through plugins. But the integration code could sometimes be daunting. This is what brought [Robodog](/docs/robodog/) to life. An alternative with the same features, but with a more ergonomic and minimal API.

But, it didn‚Äôt come without its own set of new problems:

* It tries to do the exact same, but it looks like a different product.
* It‚Äôs confusing for users whether they want to use Robodog or Uppy directly.
* Robodog is more ergonomic because it‚Äôs limited. When you hit such a limit, you need to refactor everything to Uppy with plugins.

This has now led us to deprecating Robodog and embrace Uppy for its strong suits: modularity and flexibility. At the same time, we also introduced something to take away some repetitive integration code: [`@uppy/remote-sources`](/docs/remote-sources).

Are you using Robodog in your code base? You can checkout out the [migration guide](https://uppy.io/docs/migration-guides.html#Migrate-from-Robodog-to-Uppy-plugins) to see how you can transition to Uppy plugins without loosing functionality. We have committed ourselves to extend Robodog support for one year to give our users more time to migrate.

## Devotedly stable

Since the Uppy 2.7.0 release, **we‚Äôve fixed over 95 bugs!** This includes bugs that made uploading less stable, documentation corrections, and dependency upgrades.

## Companion turns 4.0

Everyone‚Äôs favorite Companion also received some love.

### Streaming upload

Streaming upload can now also be enabled in Companion when using Tus. This comes with greatly improved upload speeds and allows uploading potentially hundreds of gigabytes without needing a large server storage. This feature was also available before Companion 4, but it didn‚Äôt work with Tus yet.

With streaming upload disabled (default), the whole file will be downloaded first, and only when the download has completely finished would the upload start.

When streaming upload is enabled, Companion will start downloading the file from the provider (for example Google Drive), while at the same time starting the upload to the destination (for example Tus), and send every chunk of data consecutively.

For more information, [see the docs](https://uppy.io/docs/companion/).

### Event emitter

Companion now has a server-side event emitter that can be used to detect when uploads start, finish and fail, without having to depend on the client (so it works even if the user has closed their browser).

Example code:

```js
const { app, emitter } = companion.app(options)

emitter.on('upload-start', ({ token }) => {
  console.log('Upload started', token)

  function onUploadEvent ({ action, payload }) {
    if (action === 'success') {
      emitter.off(token, onUploadEvent) // avoid listener leak
      console.log('Upload finished', token, payload.url)
    } else if (action === 'error') {
      emitter.off(token, onUploadEvent) // avoid listener leak
      console.error('Upload failed', payload)
    }
  }
  emitter.on(token, onUploadEvent)
})
```

### Internal improvements

Companion‚Äôs internal request code and Providers have been rewritten to `async`/`await` which has grossly simplified and reduced our amount of code. This will lead to more less bugs and security issues. It will also make it easier to implement new custom Providers.

We have also replaced the deprecated [request](https://github.com/request/request) library with [got](https://github.com/sindresorhus/got). This also removed the need for [purest](https://github.com/simov/purest).

### And more!

* [Compressor](/docs/compressor) is officially stable. The Compressor plugin for Uppy optimizes images (JPEG, PNG), saving on average up to 60% in size (roughly 18 MB for 10 images). It‚Äôs been battle tested and has proved itself.
* [AWS S3 Multipart](/docs/aws-s3-multipart) also became more stable this release, hammering out some of the last edge cases with lots of files and/or huge files.
* React 18 is now supported in [`@uppy/react`](/docs/react), Vue 3 support for [`@uppy/vue`](/docs/vue), and Angular 14 for [`@uppy/angular`](/docs/angular).
* Our [`examples`](https://github.com/transloadit/uppy/tree/main/examples) folder has received a fresh round of updates to keep them relevant.

***

TODO: cute conclusion

See the full [changelog](https://github.com/transloadit/uppy/blob/master/CHANGELOG.md#1300) and the [migration guide](/docs/migration-guides.html) for more details.
